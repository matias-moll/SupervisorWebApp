(this.webpackJsonpsupervisor=this.webpackJsonpsupervisor||[]).push([[0],{137:function(e,a,t){e.exports=t.p+"static/media/icon.d4d53458.png"},144:function(e,a,t){e.exports=t(170)},149:function(e,a,t){},170:function(e,a,t){"use strict";t.r(a);var n=t(5),r=t.n(n),o=t(136),s=t.n(o),l=t(32),c=t(138),i=t(35),m=r.a.createContext(),u=(t(149),t(137)),d=t.n(u);function v(e){var a=e.username,t=e.logOut;return r.a.createElement("div",{id:"user-panel"},r.a.createElement("h4",{className:"mt-2 ml-3 mb-0"},"Configuraci\xf3n"),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("div",{className:"settings-item"},r.a.createElement("i",{className:"fas fa-user mr-2"})," Usuario:",r.a.createElement("div",{className:"setting-value ml-2"},a)),r.a.createElement("div",{className:"settings-item"},r.a.createElement("i",{className:"fas fa-key mr-2"})," Contrase\xf1a:",r.a.createElement("div",{className:"setting-value ml-2"},r.a.createElement("button",{type:"button",className:"btn btn-outline-dark btn-sm","data-toggle":"modal","data-target":"#changePassModal"},"Cambiar"))),r.a.createElement("div",{className:"settings-item"},r.a.createElement("i",{className:"fas fa-filter mr-2"})," Filtros:",r.a.createElement("div",{className:"setting-value ml-2"},r.a.createElement("button",{type:"button",className:"btn btn-outline-dark btn-sm","data-toggle":"modal","data-target":"#filtersModal"},"Elegir"),r.a.createElement("button",{type:"button",className:"btn btn-outline-dark btn-sm ml-2"},"Quitar"))),r.a.createElement("div",{className:"settings-item"},r.a.createElement("i",{className:"fas fa-adjust mr-2"})," Tema Oscuro:",r.a.createElement("div",{className:"setting-value ml-2",onClick:function(e){console.log("TODO: Toggled Theme")}},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{className:"slider round"})))),r.a.createElement("div",{className:"settings-item"},r.a.createElement("i",{className:"fas fa-sign-out-alt mr-2"})," Cerrar Sesi\xf3n:",r.a.createElement("div",{className:"setting-value ml-2"},r.a.createElement("button",{type:"button",className:"btn btn-outline-dark btn-sm",onClick:t},"Salir")))))}var p=function(e){var a=Object(n.useState)(e),t=Object(l.a)(a,2),r=t[0],o=t[1],s=Object(n.useRef)(null),c=function(e){s.current&&!s.current.contains(e.target)&&o(!1)};return Object(n.useEffect)((function(){return document.addEventListener("click",c,!0),function(){document.removeEventListener("click",c,!0)}}),[]),{ref:s,isVisible:r,setIsVisible:o}};function f(e){var a=e.toggleSidebar,t=e.logOut,o=p(!1),s=o.ref,l=o.isVisible,c=o.setIsVisible,i=Object(n.useContext)(m).user;return r.a.createElement("header",{id:"topbar"},r.a.createElement("a",{href:"!#",id:"menu-btn",onClick:a},r.a.createElement("i",{className:"fa fa-bars","aria-hidden":"true"})),r.a.createElement("div",{id:"trademark"},r.a.createElement("img",{id:"app-icon",src:d.a,alt:"Supervisor Icon"}),r.a.createElement("span",{id:"trademark-title"},"Supervisor")),r.a.createElement("div",{id:"action-bar"},r.a.createElement("div",{id:"user-button",onClick:function(){c(!l)}},r.a.createElement("span",null,"MM"))),l&&r.a.createElement("div",{ref:s}," ",r.a.createElement(v,{username:i,logOut:t})," "))}function E(e){var a=e.isSidebarCompressed,t=e.toggleSidebar,n=e.logOut,o=r.a.useState((function(){return window.localStorage.getItem("Supervisor-SelectedMenu")||""})),s=Object(l.a)(o,2),c=s[0],i=s[1];r.a.useEffect((function(){window.localStorage.setItem("Supervisor-SelectedMenu",c)}),[c]),window.matchMedia("(max-width: 980px)").addEventListener("change",(function(e){t(e)}));var m=function(e){i(e)},u=function(e){return c===e?"active":""},d=function(e){return!a&&r.a.createElement("span",{className:"nav-text"}," ",e)};return r.a.createElement("div",{id:"sidebar",className:a?"small-sidebar":""},r.a.createElement("nav",{id:"navbar"},r.a.createElement("header",null,!a&&r.a.createElement("h2",{id:"nav-title"},"Navegaci\xf3n")),r.a.createElement("a",{href:"/",className:"nav-link "+u("Inicio"),onClick:function(){return m("Inicio")}},r.a.createElement("i",{className:"fas fa-home"})," ",d("Inicio")),r.a.createElement("a",{href:"/clientes",className:"nav-link "+u("Clientes"),onClick:function(){return m("Clientes")}},r.a.createElement("i",{className:"fas fa-briefcase"})," ",d("Clientes")),r.a.createElement("a",{href:"/servicios",className:"nav-link "+u("Servicios"),onClick:function(){return m("Servicios")}},r.a.createElement("i",{className:"fas fa-laptop-medical"})," ",d("Servicios")),r.a.createElement("a",{href:"/moviles",className:"nav-link "+u("Moviles"),onClick:function(){return m("Moviles")}},r.a.createElement("i",{className:"fas fa-ambulance"})," ",d("Operativos")),r.a.createElement("a",{href:"/",className:"nav-link",onClick:n},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," ",d("Cerrar Sesi\xf3n")),a?r.a.createElement("a",{href:"!#",id:"expand-link",className:"nav-link",onClick:t},r.a.createElement("i",{className:"fas fa-expand"})):r.a.createElement("div",{id:"container-nav-buttons"},r.a.createElement("a",{href:"!#",id:"compress-button",className:"nav-button",onClick:t},r.a.createElement("i",{className:"fas fa-compress fa-2x"})))))}function b(){return r.a.createElement("div",{className:"modal fade",id:"filtersModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Elegir Filtros"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},"..."),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Save changes")))))}function h(){return r.a.createElement("div",{className:"modal fade",id:"changePassModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Cambiar Contrase\xf1a"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{id:"changepass-modal-body",className:"modal-body flex-column"},r.a.createElement("div",{className:"mb-2 flex-column"},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a Actual"),r.a.createElement("input",{type:"password",name:"password",id:"password"})),r.a.createElement("div",{className:"mb-2 flex-column"},r.a.createElement("label",{htmlFor:"newPassword"},"Nueva Contrase\xf1a"),r.a.createElement("input",{type:"password",name:"newPassword",id:"newPassword"})),r.a.createElement("div",{className:"mb-2 flex-column"},r.a.createElement("meter",{max:"4",id:"password-strength-meter"}),r.a.createElement("p",{id:"password-strength-text"})),r.a.createElement("div",{className:"mb-2 flex-column"},r.a.createElement("label",{htmlFor:"confirmNewPassword"},"Confirmar Nueva Contrase\xf1a"),r.a.createElement("input",{type:"password",name:"confirmNewPassword",id:"confirmNewPassword"})),r.a.createElement("br",null)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Save changes")))))}var g=t(44),y=t.n(g),C=t(65),N=t(75),w=t.n(N);function k(e){var a=e.category,t=e.items;return r.a.createElement("div",{className:"panel summary"},r.a.createElement("div",{className:"summary-panel-title"},r.a.createElement("h4",null,a.title),r.a.createElement("i",{className:a.icon})),r.a.createElement("div",{className:"info-panel"},t.map((function(e){return r.a.createElement("div",{className:"info-item "+(e.isTotal?"total":""),key:e.key},r.a.createElement("span",null,e.key,":"," ",r.a.createElement("strong",{className:"info-value"},"boolean"==typeof e.value?r.a.createElement("span",{className:e.value?"text-success":"text-danger"},e.value?"OK":"X"):r.a.createElement("span",null,e.value))))}))))}function S(e){var a=e.summary;if(null==a)return r.a.createElement("p",null,"Loading Summary...");var t=a.servicios,n=a.moviles,o=a.operadores,s=a.estadoGeneral;return r.a.createElement("div",{id:"summary-container"},r.a.createElement(k,{category:{title:"Servicios",icon:"fas fa-user-md fa-3x"},items:[{key:"En Curso",value:t.enCurso},{key:"Cerrados",value:t.cerrados},{key:"Cancelados",value:t.cancelados}]}),r.a.createElement(k,{category:{title:"M\xf3viles",icon:"fas fa-ambulance fa-3x"},items:[{key:"Activos",value:n.activos},{key:"Fuera Serv.",value:n.fueraServicio}]}),r.a.createElement(k,{category:{title:"Operadores",icon:"fas fa-users fa-3x"},items:[{key:"Receptores",value:o.receptores},{key:"Despachadores",value:o.despachadores}]}),r.a.createElement(k,{category:{title:"Estado Gral.",icon:"fas fa-info-circle fa-3x"},items:[{key:"GPS",value:s.gps},{key:"Interfaces",value:s.interfaces},{key:"Grabadora",value:s.grabadora}]}))}var x=t(28),O=t(26),P=t(140);function D(e,a,t,n){if(null!=a){var r=x.b(e,O.h);F(t,r),r.colors.list=[x.a("#67DC75"),x.a("#DC6967"),x.a("#67DCC5"),x.a("#DC8C67")],A(r),a.category="Servicios",r.data=[a];var o=r.xAxes.push(new O.a);return o.dataFields.category="category",o.renderer.cellStartLocation=.1,o.renderer.cellEndLocation=.9,o.renderer.grid.template.location=0,r.yAxes.push(new O.g).min=0,n.forEach((function(e){return function(e,a){var t=r.series.push(new O.b);t.dataFields.valueY=e,t.dataFields.categoryX="category",t.name=a,I(t);var n=t.bullets.push(new O.d);return n.interactionsEnabled=!1,n.dy=30,n.label.text="{valueY}",t}(e.code,e.title)})),r}}function T(e,a,t,n){if(null!=a){var r=x.b(e,O.h);F(t,r),r.colors.list=[x.a("#67DC75"),x.a("#DC6967")],A(r),r.data=a;var o=r.xAxes.push(new O.a);return o.dataFields.category="type",o.renderer.grid.template.location=0,r.yAxes.push(new O.g).min=0,n.forEach((function(e){return function(e,a){var t=r.series.push(new O.b);t.name=a,t.dataFields.valueY=e,t.dataFields.categoryX="type",t.sequencedInterpolation=!0,t.stacked=!0,t.columns.template.width=x.c(60),I(t);var n=t.bullets.push(new O.d);return n.label.text="{valueY}",n.locationY=.5,n.label.hideOversized=!0,t}(e.code,e.title)})),r}}function j(e,a,t){if(null!=a){var n=x.b(e,O.h);F(t,n),n.colors.list=[x.a("#67DC75"),x.a("#DC6967"),x.a("#67DCC5"),x.a("#DC8C67")],A(n);var r=n.xAxes.push(new O.a);r.dataFields.category="date",r.renderer.minGridDistance=50,r.renderer.grid.template.location=.5,r.startLocation=.5,r.endLocation=.5;for(var o=a[0].cantidadPorHora.length,s=[],l=0;l<o;l++){var c=new Date;c.setHours(c.getHours()-l),s.push(c.getDate()+" "+c.getHours()),r.data.unshift({date:s[l]})}n.yAxes.push(new O.g);var i=a.length<5;a.forEach((function(e){return function(e,a,t,r){var o=n.series.push(new O.f);o.dataFields.valueY="value",o.dataFields.categoryX="date",o.name=e,i&&(o.tooltipText="{valueY}",o.tooltip.pointerOrientation="vertical",o.tooltip.background.cornerRadius=10,o.tooltip.background.fillOpacity=.5,o.tooltip.label.padding(5,5,5,5)),o.strokeWidth=2,o.tensionX=.8;for(var s=[],l=0;l<=t.length;l++)s.push({date:a[l],value:t[l]});n.scrollbarX=new O.i,n.scrollbarX.series.push(o),n.cursor=new O.j,n.cursor.xAxis=r,o.data=s}(e.color,s,e.cantidadPorHora,r)}))}}function A(e){var a=new O.e;a.position="top",a.paddingBottom=20,a.labels.template.maxWidth=95,e.legend=a}function F(e,a){var t=a.titles.create();t.text=e,t.fontSize=25,t.fontWeight=700,t.marginBottom=10,a.titles.push(t)}function I(e){e.columns.template.tooltipText="[bold]{name}[/]\n[font-size:14px]{categoryX}: {valueY}"}function M(e,a){T(e,a,"Recursos",[{code:"activos",title:"Activos"},{code:"inactivos",title:"Inactivos"}])}function L(e,a){if(null!=a){var t=x.b(e,O.h);F("Servicios Operadores",t),t.colors.list=[x.a("#67DC75"),x.a("#DC6967")],A(t),t.data=a;var n=t.yAxes.push(new O.a);return n.dataFields.category="type",n.renderer.grid.template.location=0,t.xAxes.push(new O.g).min=0,r("tomados","Tomados"),r("cancelados","Cancelados"),t}function r(e,a){var n=t.series.push(new O.b);n.name=a,n.dataFields.valueX=e,n.dataFields.categoryY="type",n.sequencedInterpolation=!0,n.stacked=!0,n.columns.template.width=x.c(60),I(n);var r=n.bullets.push(new O.d);return r.label.text="{valueY}",r.locationY=.5,r.label.hideOversized=!0,n}}function R(e,a){if(null!=a){var t=x.b(e,O.h);F("Tiempos Operadores",t),A(t),t.colors.list=[x.a("#67B7DC"),x.a("#67B7DC"),x.a("#DCD267"),x.a("#DCD267")],a.category="Tiempos Servicios",t.data=[a];var n=t.xAxes.push(new O.a);return n.dataFields.category="category",n.renderer.cellStartLocation=.1,n.renderer.cellEndLocation=.9,n.renderer.grid.template.location=0,t.yAxes.push(new O.g).min=0,r("recepPromedioColoring","Prom Coloring"),r("recepPromedioAsignacion","Prom Recep"),r("despRedespachos","Redespachos"),r("despPromedioAsignacion","Prom Asign"),t}function r(e,a){var n=t.series.push(new O.b);n.dataFields.valueY=e,n.dataFields.categoryX="category",n.name=a,I(n);var r=n.bullets.push(new O.d);return r.interactionsEnabled=!1,r.dy=30,r.label.text="{valueY}",n}}var Y=t(85);function G(e){var a=e.servicesPerStatusAndColor,t=r.a.useState({Rojos:!0,Amarillos:!0,Verdes:!0,Traslados:!0,Eventos:!0,Otros:!0}),n=Object(l.a)(t,2),o=n[0],s=n[1],c=r.a.useState(1200),i=Object(l.a)(c,2),m=i[0],u=i[1],d=r.a.useState({Rojos:"#DC6967",Amarillos:"#DCD267",Verdes:"#67DC75",Traslados:"#4472C4",Eventos:"#FFE699",Otros:"#D9D9D9"}),v=Object(l.a)(d,2),p=v[0];v[1];r.a.useEffect((function(){window.addEventListener("resize",f)}),[]);var f=function(e){u(window.innerWidth)},E=function(e){return o[e]},b=function(e){return m<=580?e.serviciosPorColor.filter((function(e){return["Rojos","Amarillos","Verdes"].includes(e.color)})):e.serviciosPorColor};return null==a?r.a.createElement("h2",null,"Loading Services table..."):r.a.createElement("div",{className:"container-services-table"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",style:{backgroundColor:"#9abcd6"}},"Estado"),b(a[0]).map((function(e,a){return E(e.color)&&r.a.createElement("th",{key:a,scope:"col",style:{backgroundColor:p[e.color],cursor:"pointer"}},m>790?e.color:e.color[0])})))),r.a.createElement("tbody",null,a.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},e.descripcion),b(e).map((function(e,a){return E(e.color)&&r.a.createElement("th",{key:a},e.cantidad)})))})))),r.a.createElement("div",{className:"togglers-container"},b(a[0]).map((function(e,a){return r.a.createElement("a",{className:"button-service-home btn m-1 "+(E(e.color)?"btn-info":"btn-secondary"),key:a,href:"!#",onClick:function(a){return function(e,a){e.preventDefault();var t=o,n=Object(Y.a)({},t);n[a]=!t[a],s(n)}(a,e.color)}},e.color)}))))}function U(){var e=r.a.useState([]),a=Object(l.a)(e,2),t=a[0],n=a[1],o=r.a.useState(),s=Object(l.a)(o,2),c=s[0],i=s[1],u=r.a.useContext(m),d=u.apiUrl,v=u.token;r.a.useEffect((function(){return p(),function(){t.forEach((function(e){e&&e.dispose()}))}}),[]);var p=function(){var e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(d+"/State",{headers:{token:v}}).then((function(e){var a=e.data;i(a),f(a)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){var a,t;n([(a="chartServices",t=e.totalesPorEstadoServicio,void D(a,t,"Servicios",[{code:"activos",title:"Activos"},{code:"demorados",title:"Demorados"},{code:"apoyos",title:"Apoyos"},{code:"atencionesMultiples",title:"At. Multiples"}])),M("chartMobiles",e.estadosPorTipoDeMovil),L("chartEmployeesServices",e.serviciosRecibidosDespachados),R("chartEmployeesServicesAverages",e.promediosServiciosRecibidosDespachados)])};return null==c?r.a.createElement("p",null,"Loading Home..."):r.a.createElement("div",null,r.a.createElement(S,{summary:c.resumen}),r.a.createElement("div",{id:"content-container"},r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartServices",className:"chart"})),r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartMobiles",className:"chart"})),r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartEmployeesServices",className:"chart"})),r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartEmployeesServicesAverages",className:"chart"})),r.a.createElement("div",{className:"panel content"},r.a.createElement(G,{servicesPerStatusAndColor:c.serviciosPorEstadoYColor}))))}function X(e){var a=e.summary;if(null==a)return r.a.createElement("p",null,"Loading Summary...");var t=a.grupos,n=a.areas,o=a.convenios,s=a.estadoGeneral;return r.a.createElement("div",{id:"summary-container"},r.a.createElement(k,{category:{title:"Grupos",icon:"fas fa-house-user fa-3x"},items:[{key:"Cerrados",value:t.enTiempo+t.fueraTiempo},{key:"En Tiempo",value:t.enTiempo},{key:"Fuera Tiempo",value:t.fueraTiempo}]}),r.a.createElement(k,{category:{title:"Areas",icon:"fas fa-map-marked-alt fa-3x"},items:[{key:"Cerrados",value:n.enTiempo+n.fueraTiempo},{key:"En Tiempo",value:n.enTiempo},{key:"Fuera Tiempo",value:n.fueraTiempo}]}),r.a.createElement(k,{category:{title:"Convenios",icon:"fas fa-building fa-3x"},items:[{key:"Cerrados",value:o.enTiempo+o.fueraTiempo},{key:"En Tiempo",value:o.enTiempo},{key:"Fuera Tiempo",value:o.fueraTiempo}]}),r.a.createElement(k,{category:{title:"Estado Gral.",icon:"fas fa-info-circle fa-3x"},items:[{key:"GPS",value:s.gps},{key:"Interfaces",value:s.interfaces},{key:"Grabadora",value:s.grabadora}]}))}function H(e,a){V(e,a,"Areas Protegidas")}function B(e,a){V(e,a,"Convenios")}function V(e,a,t){D(e,a,t,[{code:"activos",title:"Activos"},{code:"demorados",title:"Demorados"},{code:"cerrados",title:"Cerrados"},{code:"cancelados",title:"Cancelados"}])}function W(e,a){T(e,a,"Clientes Destacados",[{code:"activos",title:"Activos"},{code:"demorados",title:"Demorados"}])}function z(){var e=r.a.useState([]),a=Object(l.a)(e,2),t=a[0],n=a[1],o=r.a.useState({}),s=Object(l.a)(o,2),c=s[0],i=s[1],u=r.a.useContext(m),d=u.apiUrl,v=u.token;r.a.useEffect((function(){return p(),function(){t.forEach((function(e){e&&e.dispose()}))}}),[]);var p=function(){var e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(d+"/StateClient",{headers:{token:v}}).then((function(e){var a=e.data;i(a),f(a)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(C.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n([(t="chartGroups",r=a.gruposFamiliares,void V(t,r,"Grupos Familiares")),H("chartAreas",a.areasProtegidas),B("chartCovenants",a.convenios),W("chartServicesPerCovenant",a.serviciosPorConvenio)]);case 1:case"end":return e.stop()}var t,r}),e)})));return function(a){return e.apply(this,arguments)}}();return null==c?r.a.createElement("p",null,"Loading Clients..."):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(X,{summary:c.resumen})),r.a.createElement("div",{id:"content-container"},r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartGroups",className:"chart"})),r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartAreas",className:"chart"})),r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartCovenants",className:"chart"})),r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartServicesPerCovenant",className:"chart"}))))}function q(e,a){j(e,a,"Cerrados Por Color")}function J(e,a){j(e,a,"Demorados Por Estandar")}function K(e,a){j(e,a,"TRTA Por Color")}function Q(){var e=r.a.useState([]),a=Object(l.a)(e,2),t=a[0],n=a[1],o=r.a.useState({}),s=Object(l.a)(o,2),c=s[0],i=s[1],u=r.a.useContext(m),d=u.apiUrl,v=u.token;r.a.useEffect((function(){return p(),function(){t.forEach((function(e){e&&e.dispose()}))}}),[]);var p=function(){var e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(d+"/StateService",{headers:{token:v}}).then((function(e){var a=e.data;console.log("Test"),console.log(a),null!=a&&(i(a),f(a))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(C.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n([(t="chartClosedServices",r=a.cerradosPorEstado,void j(t,r,"Cerrados Por Estado")),q("chartClosedPerColor",a.cerradosPorColor),J("chartDelayedPerHour",a.demoradosPorEstandar),K("chartResponseTimesPerColor",a.tiempoRtaPorColor)]);case 1:case"end":return e.stop()}var t,r}),e)})));return function(a){return e.apply(this,arguments)}}();return null==c?r.a.createElement("p",null,"Loading Clients..."):r.a.createElement("div",{id:"content-container"},r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartClosedServices",className:"chart pr-3"})),r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartClosedPerColor",className:"chart pr-3"})),r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartDelayedPerHour",className:"chart pr-3"})),r.a.createElement("div",{className:"panel content"},r.a.createElement("div",{id:"chartResponseTimesPerColor",className:"chart pr-3"})))}function $(){return r.a.createElement("div",null,r.a.createElement("h1",null,"M\xf3viles"))}x.d(P.a);var Z=t(122);function _(e){var a=e.loginSuccesful,t=r.a.useState({user:"",password:""}),n=Object(l.a)(t,2),o=n[0],s=n[1],c=r.a.useState(!1),i=Object(l.a)(c,2),u=i[0],d=i[1],v=r.a.useContext(m).apiUrl,p=function(){var e=Object(C.a)(y.a.mark((function e(){var a,t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a='{"user":"'.concat(o.user,'", "key":"').concat(o.password,'"}'),t={headers:{"Content-Type":"text/plain"}},n=v+"/Login",e.next=5,w.a.post(n,a,t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){var a=e.target,t=a.id,n=a.value;s((function(e){return Object(Y.a)(Object(Y.a)({},e),{},Object(Z.a)({},t,n))}))},E=function(){var e=Object(C.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p();case 3:if(18!==(n=e.sent).data.code){e.next=8;break}return d(!0),s(Object(Y.a)(Object(Y.a)({},o),{},{password:""})),e.abrupt("return");case 8:a(o.user,n.data.token);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"container-login"},r.a.createElement("div",{id:"content-login"},r.a.createElement("div",{id:"welcome-text-container"},r.a.createElement("h1",null,"\xa1Bienvenido!"),r.a.createElement("h3",null,"Ingresa tus credenciales para entrar al panel supervisor.")),r.a.createElement("main",{id:"container-login-form"},r.a.createElement("form",{id:"login-form"},r.a.createElement("label",{htmlFor:"user"},"Usuario"),r.a.createElement("input",{className:"mb-4",type:"text",name:"user",id:"user",value:o.user,onChange:f}),r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{className:"mb-4",type:"password",name:"password",id:"password",value:o.password,onChange:f}),u?r.a.createElement("div",{className:"error-message mt-3"},"El usuario y la contrase\xf1a ingresados no coinciden. Intentelo nuevamente."):null,r.a.createElement("input",{className:"mt-5 btn btn-dark",type:"button",value:"Ingresar",onClick:E})))),r.a.createElement("div",{id:"bottom-background"}))}function ee(){var e=r.a.useState((function(){return window.localStorage.getItem("Supervisor-User")||""})),a=Object(l.a)(e,2),t=a[0],n=a[1],o=r.a.useState((function(){return"true"==window.localStorage.getItem("Supervisor-IsSidebarCompressed")||!1})),s=Object(l.a)(o,2),u=s[0],d=s[1],v=r.a.useState((function(){return window.localStorage.getItem("Supervisor-Token")||""})),p=Object(l.a)(v,2),g=p[0],y=p[1];r.a.useEffect((function(){window.localStorage.setItem("Supervisor-IsSidebarCompressed",u),window.localStorage.setItem("Supervisor-User",t),window.localStorage.setItem("Supervisor-Token",g)}),[u,t,g]);var C=function(e){e.preventDefault(),d(!u)},N=function(){y(""),n("")};return r.a.createElement(m.Provider,{value:{user:t,token:g,setUser:n,apiUrl:"http://192.168.222.4:7881/SuWebApi"}},r.a.createElement(c.a,null,t?r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(h,null),r.a.createElement(f,{toggleSidebar:C,logOut:N}),r.a.createElement("div",{id:"full-container"},r.a.createElement(E,{isSidebarCompressed:u,toggleSidebar:C,logOut:N}),r.a.createElement("main",null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:U}),r.a.createElement(i.a,{exact:!0,path:"/clientes",component:z}),r.a.createElement(i.a,{exact:!0,path:"/servicios",component:Q}),r.a.createElement(i.a,{exact:!0,path:"/moviles",component:$}))))):r.a.createElement(_,{loginSuccesful:function(e,a){y(a),n(e)}})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[144,1,4]]]);
//# sourceMappingURL=main.3b19a8c9.chunk.js.map